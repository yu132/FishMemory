# 初步的定义

想要将高级语言以自然语言的方式表达是并非那么简单的事情，接下来我会一步一步的阐述自己的观点，慢慢推进和演化，最终以一种折衷的方式将高级语言自然化。

## 自然语言的困扰

想要实现让自然语言变得能够转换为一种能够被编译或解释执行的语言，必然是有其难处的，毕竟自然语言在大多数的时候通过上下文语义偷工减料，使得对于人来说，大部分情况下都能够理解，但是程序来说，就是不可阅读的天书，因为自然语言在多数的时候都包含歧义，因此想要纯粹让自然语言来表达程序的逻辑语言是基本上不可能的。

这也让我想起来之前经常看到的程序员笑话：女朋友说，下班回来带一个西瓜。如果看到番茄，就买两个。正常人买回来的是一个西瓜和两个番茄，程序员买回来的是两个西瓜。这个笑话的本质就是上述的自然语言完全可以有两种不同的解释方式。以代码表示如下：

```
void 第一种解释(){
	if(存在番茄){
		买两个西瓜;
	}else{
		买一个西瓜;
	}
}

void 第二种解释(){
	买一个西瓜;
	if(存在番茄){
		买两个番茄;
	}
}
```

其本质就是两个修饰的物品不明白，究竟应当是西瓜还是番茄，只需要把最后的修饰词补清楚，那么这段语句就没有歧义了。

## 函数式编程的困扰

函数式编程的一个非常有效的特性是其表达相当准确，因为例如对于Java来说，调用一个对象的某个方法一定是确定而无歧义的，即使面向对象程序设计语言有多态，即表现为重载和重写，使用相同的名字的函数可能最终表达的行为是不一致的，但是对于某个特定条件下来说，函数的执行语义是确定的，不可能出现像是自然语言一样的问题。

那么函数既然这么有效，那么其有什么不合适的地方呢？

首先有一个语序的问题，众所周知，函数的结构应当是这样的：返回值 函数名(参数名1, 参数名2)。那么当你试图在函数中表达语义的时候，就会使得语义表示的顺序变得非常奇怪，例如在自然语言中，小明从账户A向账户B转账这样一句话，用函数来表达大概是这样的，`小明.转账(账户A, 账户B)`，在这种表示方法中小明转账的顺序就丢失了，究竟是从账户A向账户B转账？还是反过来，这对于编译器来说是确定的，即这段语句没有歧义，但是对于程序员来说就不一定是这样了。当然，按照一般人的思维方式，由于账户A在账户B前面，所以理论上来说有一个方向性的感觉，总是会认为应当是从A转账到B（个人观点，如果有人思维截然不同的，可以告诉我），因此一般来说是不会出现问题。但是对于不是明确的顺序性的场景时，这个问题往往就比较大了，例如JUnit中的assertEquals中的两个参数究竟哪一个是期望值，哪一个是实际值，就很难以分清，所以现代的IDE就通过直接将参数名直接通过特殊的方式增加在代码中，使得程序员不会搞混参数的位置。

函数式编程的另一个非常严重的问题是函数是一种通用的行为或者处理过程，其对于任何一种情况下都是使用相同的名字来进行表达，因此其仅仅能表示的只有其行为，而没有行为的意图，也就是对于一段语句来说，其能够满足编译器编译，并转换为可执行代码的逻辑，但是其并不一定能够满足让人来理解这段代码的行为意图，所以要让这段代码可读，就不得不使用其他的方式，第一种方式是使用注释的方式，通过注释来解释意图，这也是过去最常用的一种方式，即一种不侵入代码的方式增加程序的可读性。第二种是Extract Method的方式，即通过将该代码或者代码块抽取成一种private方法的方式，通过在方法名上进行解释的方式，这种方式是一种代码侵入性的方式，也是现代重构中相当常用的一种增强代码语义的方式。

## 函数式编程就完全能够脱离歧义吗

函数式编程实际上也不能够完全脱离歧义，例如在进行多重继承(实现)的时候，就会难以判断究竟是应当选择哪一种解释方法，例如以下代码：

```
class A {}

class B extends A implements IC {}

interface IC {}

void test(A a) {}

void test(IC b) {}

void ambiguous() {
	B b = new B();
	test(b);
}
```

`test(b)`处是会报错的，其表示这个test是有歧义的，编译器也难以选择，这个时候你可以进行转型来明确程序的语义，即你比较希望其选择哪个重载方法，例如`test((A)b)`就可以编译了。

## 自然语言的修复

因此，在以自然语言作为前提进行程序的阐述时，通过让编译器只关注于某些特定的词汇，而不是让编译器去处理所有的词汇，从而允许编译器像以前一样以同样的方法处理和函数式编程完全一致的信息，而不至于让自然语言引入过多的分析，从而引发程序可能存在严重的歧义的问题。但是，自然语言中比起函数式编程中略微赘述的部分，本质上又能够增加函数式编程时需要通过额外的抽取方法重构或者依赖不可靠的注释来增添的语义。



